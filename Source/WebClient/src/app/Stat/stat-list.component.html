<div class="container">
    <div class="stats-table">
        <h2>Список узлов</h2>
        <table class = "table">
            <thead>
                <tr>
                    <th>Имя узла</th>
                    <th>Дата последней статистики</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let stat of stats" 
                (click)="onSelectStat(stat.id)"
                [class.selected]="selectedStat?.id===stat.id">
                    <td>{{stat.deviceName}}</td>
                    <td>{{stat.lastUpdateDateTime | date:'short'}}</td>
                </tr>
            </tbody>
        </table>
    </div>


    <div class="stat-details" *ngIf="selectedStat">
        <h2>{{selectedStat.deviceName}}</h2>
        <p>Идентификатор: {{selectedStat.id}}</p>
        <p>Тип устройства: {{selectedStat.operatingSystem}}</p>
        <p>Версия Client: {{selectedStat.version}}</p>

        <h2>События</h2>
        <table class = "table">
            <thead>
                <tr>
                    <th>Дата</th>
                    <th>Событие</th>
                    <th>Описание</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let event of statEvents">
                    <th>{{event.eventDateTime}}</th>
                    <th>{{event.name}}</th>
                    <th>{{event.description}}</th>
                </tr>
            </tbody>
        </table>
    </div>
</div>